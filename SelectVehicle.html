<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />

    <!-- <link rel="stylesheet" href="./global.css" /> -->


    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Plus Jakarta Sans:wght@400;500;600;700;800&display=swap" />
    <link rel="stylesheet" href="Styles/header.css">
    <link rel="stylesheet" href="Styles/classy-nav.css">

    <link rel="stylesheet" href="Styles/style.css">
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">

    <!-- RESPONSIVE CSS  -->

    <link rel="stylesheet" href="Styles/Responsive/XL.css">
    <link rel="stylesheet" href="Styles/Responsive/L.css">
    <link rel="stylesheet" href="Styles/Responsive/M.css">
    <link rel="stylesheet" href="Styles/Responsive/S.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'UA-23581568-13');
    </script>


    <style>
        .form-control {
            border: 1px solid #ced4da;
            padding: .375rem .75rem;
            border-radius: .25rem;
        }

        .form-control.error {
            border-color: red;
        }
    </style>

    <script src="JS/jquery.min.js"></script>
</head>

<body>

    <section>
        <header class="header-area">
            <div class="main-header-area">
                <div class="classy-nav-container breakpoint-off">
                    <nav class="classy-navbar justify-content-between" id="uzaNav">
                        <a class="nav-brand" href="index.html"><img src="Images/new-logo.png" alt="Ryder Logo"></a>
                        <div class="classy-navbar-toggler">
                            <span class="navbarToggler"><span></span><span></span><span></span></span>
                        </div>

                        <div class="classy-menu">

                            <div class="classycloseIcon">
                                <div class="cross-wrap"><span class="top"></span><span class="bottom"></span></div>
                            </div>

                            <div class="classynav">
                                <div>
                                    <ul id="nav" class="home-parent">
                                        <li class=" text-decoration-none nav-items"><a href="./index.html">Home</a></li>
                                        <li class=" text-decoration-none nav-items"><a href="safety.html">Safety</a>
                                        </li>
                                        <li class="text-decoration-none nav-items current-item"><a
                                                href="Drive_with_us.html">Drive
                                                with us</a></li>
                                        <li class="text-decoration-none nav-items"><a href="about_us.html">About
                                                Us</a></li>
                                        <li class="text-decoration-none nav-items"><a href="initiatives.html">Our
                                                Initiatives</a></li>
                                    </ul>
                                </div>

                                <!-- <div>|</div> -->

                                <div class="login-register-btn mx-3" data-toggle="modal" data-target="#customer-login">
                                    <a href="">

                                        <div class="log-in">HI</div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </nav>
                </div>
            </div>
        </header>
    </section>

    <main>

        <section class="log-sec">
            <div class="login-div">

                <!-- Choose Vehicle Type Start -->
                <div id="choose_vehicle">
                    <div class="rydr-contact-form">

                        <div class="d-flex justify-content-center align-items-center flex-column">
                            <h3 class="vehicle-heading text-center">Which type of vehicle do you use?</h3>
                        </div>
                        <div class="container mt-3">
                            <div class="vehicle-list  d-flex justify-content-center align-items-center flex-column">
                                <ul class="mb-30" id="vList">
                                    <!-- <li id="bike" onclick=""
                                            class="d-flex justify-content-around align-items-center flex-row">
                                            <img class="vehicle_img" src="Images/scooter.png" alt="">
                                            <span>
                                                <h4 class="vehicle_name">Bike (2 Wheeler)</h4>
                                            </span>
                                        </li> -->
                                    <p id="errorVehicle" class="errorText"></p>
                                </ul>
                                <button type="button" value="" id="vl_continue" class=" mb-2 px-5" disabled
                                    onclick="selectVehicleNext()">
                                    Continue
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Choose Vehicle Type End -->




            </div>
            </div>
        </section>







    </main>


    <footer class="footer">
        <div class="">
            <div class="row footer-section">

                <div class="col-lg-4 col-md-4 col-6">
                    <div class="footer-logo">
                        <img src="Images/new-logo.png" alt="Logo">
                    </div>
                    <div class="download-app">
                        <p>Download Our App</p>
                        <div class="app-links">
                            <a href="playstore-link"><img src="Images/Google_Play_Store_badge_EN.svg.png"
                                    alt="Play Store"></a>
                            <a href="applestore-link"><img src="Images/App_Store_Badge.svg (2).png"
                                    alt="Apple Store"></a>
                        </div>
                    </div>
                    <div class="social-links mt-3">
                        <a href="facebook-link"><img src="Images/Facebook.png" alt=""></a>
                        <a href="twitter-link"><img src="Images/Twitter.png" alt=""></a>
                        <a href="instagram-link"><img src="Images/Instagram.png" alt=""></a>
                    </div>
                </div>


                <div class="col-lg-2 col-md-2 col-6">
                    <h5 class="footer-heading">Shortcuts</h5>
                    <ul class="list-unstyled">
                        <li><a class="direct-links" href="index.html">Home</a></li>
                        <li><a class="direct-links" href="safety.html">Safety</a></li>
                        <li><a class="direct-links" href="drive_with_us.html">Drive with Us</a></li>

                        <li><a class="direct-links" href="about_us.html">About Us</a></li>
                        <li><a class="direct-links" href="initiatives.html">Initiatives</a></li>
                        <li><a class="direct-links" href="faq.html">FAQ</a></li>
                    </ul>
                </div>

                <div class="col-lg-3 col-md-3 add-sec col-6">
                    <h5 class="footer-heading">Address</h5>

                    <div class="add-div">
                        <p><strong class="add">Registered Office:</strong><br>
                            737-738, 7 Floor, Mall of Jaipur, Gandhi Path, W B Block, Vaishali Nagar,
                            Jaipur, Raj 302021
                            <br>
                            Email: reachus@rydr.co.in<br>
                        </p>
                        <p><strong class="add">Branch Office:</strong><br>
                            G 148 First Floor South City 2, Gurugram, Haryana 122018 <br>
                            Email: reachus@rydr.co.in</p>
                    </div>

                </div>


                <div class="col-lg-3 col-md-3 col-6 d-flex  flex-column align-item-center contact-sec">
                    <div>
                        <h5 class="footer-heading">Contact Us</h5>
                    </div>
                    <div>
                        <form class="contact-form contact-div">
                            <input type="text" class="form-control" placeholder=" Name" id="connect-name" required>
                            <input type="number" class="form-control" placeholder=" Phone" required name=""
                                id="connect-phone">
                            <input type="email" class="form-control" placeholder="Email" id="connect-email" required>
                            <textarea class="form-control" rows="3" placeholder=" Message" id="connect-message"
                                required></textarea>
                            <button type="submit" class="btn log-in contact-btn" id="contact-submit">Contact</button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="footer-bottom row">

                <div class="col-lg-5 col-md-5">
                    <p>Â© 2024 @ First And Last Mile Connectivity India PVT. Limited. All Rights Reserved.</p>
                </div>

                <div class="col-lg-5 col-md-5 col-12 text-md-right footer-end">
                    <a href="privacy-policy-link">Privacy Policy</a>
                    <span> | </span>
                    <a href="terms-conditions-link">Terms & Conditions</a>
                </div>
            </div>
        </div>
    </footer>


    </div>

    <script>


        var list = [];
        var headertext = '';
        var listitems = ''
        var selectedVehicle = ''


        const vehicleList = () => {
            let listitem = `<li onclick="selectVehicle({index})" id="{ind}"
                    class="d-flex justify-content-around align-items-center flex-row">
                    <img class="vehicle_img" src="{imageUrl}" alt="">
                        <span>
                            <h4 class="vehicle_name">{vehicleName}</h4>
                        </span>
                    </li>`

            let requestBody = {
                module: "vehicle-type"
            }

            fetch('http://34.93.164.215:9000/rydr/v1/splash/splashScreen', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'app_token': "bKbumwUX1vs8FLr8",
                    "version": "v1"
                },
                body: JSON.stringify(requestBody)
            })
                .then(function (response) {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(function (data) {
                    console.log('Vehicle list Sent successful:', data);
                    list = data.images

                    headertext = data.data[0]?.description

                    for (let i = 0; i < list.length; i++) {
                        listitems += listitem.replace('{imageUrl}', list[i].image).replace('{vehicleName}', list[i].name).replace('{index}', i).replace('{ind}', `name${i}`)
                    }
                    console.log('listitems> ', listitems)
                    document.getElementById('vList').innerHTML = listitems

                })
                .catch(function (error) {
                    console.error('Error Sending City:', error);
                    // Handle error, e.g., display error message to the user
                    alert('Error Sending City. Please try again.');
                });
        }


        vehicleList();


        const selectVehicle = (index) => {
            selectedVehicle = list[index].name;
            for (let i = 0; i < list.length; i++) {
                if (i === index) {
                    document.getElementById(`name${i}`).style.border = '2px solid #c30000'

                } else {
                    document.getElementById(`name${i}`).style.border = '2px solid grey'
                }
            }
            document.getElementById('vl_continue').style.backgroundColor = '#c30000'
            document.getElementById('vl_continue').disabled = false
        }

        const selectVehicleNext = () => {

            // Construct the request body for OTP verification
            var requestBody = {
                vehicleType: selectedVehicle
            };

            // Fetch API call to verify OTP
            fetch('http://34.93.164.215:9000/rydr/v1/driver/update-profile', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    "Authorization": `Bearer ${localStorage.getItem('accessToken')}`
                },
                body: JSON.stringify(requestBody)
            })
                .then(function (response) {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(function (data) {
                    console.log('Vehicle Sent successful:', data);
                    localStorage.setItem('vehicleType', selectedVehicle)
                    window.location.href = 'registration.html';

                })
                .catch(function (error) {
                    console.error('Error Sending Vehicle:', error);
                    // Handle error, e.g., display error message to the user
                    alert('Error Sending Vehicle. Please try again.');
                });
        }

    </script>


    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="JS/jquery.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/bootstrap.bundle.js"></script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/newBoot.js"></script>
    <script src="JS/contact-form.js"></script>
    <script src="JS/popper.min.js"></script>
    <script src="JS/uza.bundle.js"></script>
    <script src="JS/active.js"></script>






    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-23581568-13"></script>

</body>

</html>